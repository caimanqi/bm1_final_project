---
title: "Final_project_bm"
author: "Manqi Cai"
date: "12/9/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

The Data Analytics group from Good Health Corporation are interested in improving the overall hospital management and minimizing the cost/resources associated with patients’ care. One of the most important outcomes that has a direct effect on these aspects is patient’s length of stay (LoS) in the hospital. Thus, they would like to know which variables are associated with LoS, and ultimately build a predictive model to be used for future visits. The group has contacted you to study this problem and make a recommendation.

```{r}
library(tidyverse)
library(readxl)
library(dplyr)
library(DT)
```

#load data set
```{r}
ghproject <- read_excel("~/Documents/BM1/final project/bm1_final_project/GHProject_Dataset.xlsx")

#summary of continuous variable
ghproject %>% 
  select(LOSDays2, Evisit, AgeYear, BMI:FacilityZip) %>% 
  summary() %>% 
  na.omit() %>% 
  knitr::kable()

#summary of categorical data
ghproject %>% 
  select()

#summary of PatientID and VisitID
ghproject %>% 
  distinct(PatientID) %>% 
  count()

ghproject %>% 
  distinct(VisitID) %>% 
  count()

```
There are 3682 records from 3612 patients

```{r remove duplicated patients}
n_occur <- data.frame(table(ghproject$PatientID))
#check the duplicated patients
revisit_patient <- ghproject[ghproject$PatientID %in% n_occur$Var1[n_occur$Freq > 1],]

#remove duplicated patients
ghproject_remove <- ghproject[!duplicated(ghproject[c('PatientID')]),]
```

